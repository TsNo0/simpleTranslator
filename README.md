# Техническая документация: Simple Translator

**Автор:** Волков Никита
**Группа:** M3106

---

## 1. Общее описание
**Simple Translator** — это легковесное расширение (плагин) для среды разработки Visual Studio Code, предназначенное для мгновенного перевода фрагментов кода, комментариев и технической документации.

Проект реализован на языке **TypeScript** с использованием нативного **VS Code Extension API**, что обеспечивает высокую производительность и безопасность (работа в изолированном процессе Extension Host).

---

## 2. Функциональные возможности
Расширение автоматизирует процесс перевода, исключая необходимость ручного копирования текста в браузер.

1.  **Быстрый вызов:** Интеграция с глобальными горячими клавишами (`Ctrl+T` по умолчанию).
2.  **Умное определение контекста:** Автоматический выбор направления перевода (RU → EN или EN → RU) на основе анализа символьного состава строки.
3.  **Нормализация текста:** Предварительная очистка выделенного фрагмента от символов форматирования кода (лишние пробелы, табуляция, переносы строк), что критически важно при переводе многострочных комментариев или ошибок из консоли.

---

## 3. Архитектура и Реализация

### 3.1. Структура проекта
* `package.json`: Манифест расширения. Отвечает за:
    * Регистрацию команды `simple-translator.translate`.
    * Настройку условий активации (`activationEvents`).
    * Привязку горячих клавиш (`keybindings`).
* `src/extension.ts`: Точка входа и основная бизнес-логика приложения.

### 3.2. Алгоритм работы (Pipeline)
При вызове команды происходит следующая последовательность действий:

1.  **Захват:** Получение доступа к активному текстовому редактору через `vscode.window.activeTextEditor` и извлечение текста из текущего выделения (Selection).
2.  **Очистка (Sanitization):**
    Применение регулярного выражения для удаления форматирования:
    ```typescript
    const cleanText = text.replace(/\s+/g, ' ').trim();
    ```
3.  **Маршрутизация (Language Detection):**
    Эвристический анализ на наличие кириллицы для определения целевого языка:
    * *Есть кириллица* → Перевод на Английский (`tl=en`).
    * *Нет кириллицы* → Перевод на Русский (`tl=ru`).
4.  **Кодирование:**
    Преобразование строки в валидный URL-формат с помощью `encodeURIComponent` (обработка спецсимволов `&`, `?`, `#` и пробелов).
5.  **Исполнение:**
    Генерация ссылки к API Google Translate и открытие системного браузера через метод `vscode.env.openExternal`.

---

## 4. Инструкция по развертыванию (Dev Setup)

Для запуска проекта в режиме разработки необходимо:

1.  **Клонировать репозиторий:**
    ```bash
    git clone [https://github.com/TsNo0/simpleTranslator.git](https://github.com/TsNo0/simpleTranslator.git)
    ```
2.  **Установить зависимости:**
    Убедитесь, что установлен Node.js, затем выполните:
    ```bash
    npm install
